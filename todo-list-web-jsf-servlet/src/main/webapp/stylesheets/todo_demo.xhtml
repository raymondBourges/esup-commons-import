<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:e="http://commons.esup-portail.org"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	template="/stylesheets/template.xhtml">
	<ui:define name="content">
		<h:outputText value="#{msgs['TODO_DEMO.INTRODUCTION']}" escape="false" />
		<p:growl id="growl" showDetail="true" />
		<h:form id="tasksFormPaginator">
			<p:dataTable id="tabletasks" value="#{taskController.publicTasks}"
				var="task" >
				<f:facet name="header">
					<e:paginator id="paginatorTasksHead" paginator="#{publicTasksPaginator}"
						itemsName="#{msgs['TODO_DEMO.TASKS']}" reRender="tasksFormPaginator" />
				</f:facet>
				<f:facet name="footer">
					<e:paginator id="paginatorTasksFooter" paginator="#{publicTasksPaginator}"
						itemsName="#{msgs['TODO_DEMO.TASKS']}" itemsNumbersFlag="#{false}"
						itemsPerPageFlag="#{false}" reRender="tasksFormPaginator" />
				</f:facet>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msgs['TODO_DEMO.TASK.ID']}" />
					</f:facet>
					<h:outputText value="#{task.id}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msgs['TODO_DEMO.TASK.TITLE']}" />
					</f:facet>
					<h:outputText value="#{task.title}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msgs['TODO_DEMO.TASK.DESCRIPTION']}" />
					</f:facet>
					<h:outputText value="#{task.description}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msgs['TODO_DEMO.TASK.OWNER']}" />
					</f:facet>
					<h:outputText value="#{task.owner.id}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msgs['TODO_DEMO.TASK.ASSIGNATEDUSER']}" />
					</f:facet>
					<ui:repeat value="#{task.assignatedUsers}" var="assignatedUsers">
						<h:outputText
							value="#{assignatedUsers.id} - #{assignatedUsers.displayName}" />
						<br/>
					</ui:repeat>
				</p:column>
				
			</p:dataTable>
			<p:commandButton value="#{msgs['TODO_DEMO.FORM.PUBLICTASK']}" update="@form,growl"
						action="#{taskController.addPublicTask}" >
						</p:commandButton>
			
		</h:form>
	</ui:define>
</ui:composition>
