<?xml version="1.0" encoding="UTF-8" ?>
<t:div xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:e="http://commons.esup-portail.org"
	xmlns:i="http://primefaces.prime.com.tr/touch"
	xmlns:p="http://primefaces.prime.com.tr/ui">
	<e:section value="#{msgs['JPA_DEMO.TITLE']}" />
	<p:growl id="growl" showDetail="true" />
	<t:htmlTag value="br" />
	<e:subSection value="#{msgs['JPA_DEMO.TITLE.ADD_USER']}" />
	<h:form id="myform4">
		<i:tableView id="usersForms">
			<i:rowGroup title="uid :">
				<i:rowItem>
					<h:inputText value="#{userBean.id}" size="30" maxlength="50" required="true"/>
				</i:rowItem>
			</i:rowGroup>
			<i:rowGroup title="displayName :">
				<i:rowItem>
					<h:inputText value="#{userBean.displayName}" size="30" maxlength="100" required="true"/>
				</i:rowItem>
			</i:rowGroup>
		</i:tableView>
		<t:htmlTag value="hr" />
		<t:htmlTag value="br" />
		<t:htmlTag value="center">
			<p:commandButton value="add" action="#{welcomeController.addUser}"
				update="users,usersForms,growl" />
			<p:commandButton value="cancel" action="#{userBean.reset}"
				update="users,usersForms,growl" />
		</t:htmlTag>
	</h:form>
	<t:htmlTag value="br" />
	<t:htmlTag value="hr" />
	<t:htmlTag value="br" />
	<h:form prependId="false">
		<i:tableView id="users">
			<i:rowGroup display="edgetoedge">

				<ui:repeat value="#{simpleController.allUsers}" var="user">
					<i:rowItem>
						<h:outputText value="#{user.id}" />
						<p:commandButton value="#{msgs['_.BUTTON.DELETE']}"
							action="#{welcomeController.deleteUser}" update="users">
							<f:setPropertyActionListener value="#{user}"
								target="#{welcomeController.userToDelete}" />
						</p:commandButton>
					</i:rowItem>
				</ui:repeat>
			</i:rowGroup>
		</i:tableView>
	</h:form>
</t:div>
